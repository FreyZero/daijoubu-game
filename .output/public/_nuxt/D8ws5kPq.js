import{_ as C,v as r,c as p,o as m,a,N as z,a2 as R,a3 as k,t as y,j as U,H as $,L as B,F as I,Q as H,K as N,b as x,y as T}from"./cvlhs-y4.js";const D={class:"image-upload-container"},F={class:"input-group"},V={class:"input-group"},P=["disabled"],A={key:0},L=["disabled"],j={__name:"ImageUpload",emits:["image-uploaded","board-dimensions-set"],setup(g,{emit:l}){const s=r(null),t=r(""),i=r(5),o=r(5),d=l,f=v=>{const e=v.target.files[0];e?(s.value=e,t.value=e.name):(s.value=null,t.value="")},h=()=>{if(s.value){const v=new FileReader;v.onload=e=>{d("image-uploaded",e.target.result)},v.readAsDataURL(s.value)}},w=()=>{i.value>0&&o.value>0?d("board-dimensions-set",{cols:i.value,rows:o.value}):alert("Please specify valid columns and rows (must be greater than 0)")};return(v,e)=>(m(),p("div",D,[a("div",F,[e[2]||(e[2]=a("label",{for:"cols"},"Columns (width):",-1)),R(a("input",{type:"number",id:"cols","onUpdate:modelValue":e[0]||(e[0]=_=>i.value=_),min:"1",max:"20"},null,512),[[k,i.value,void 0,{number:!0}]])]),a("div",V,[e[3]||(e[3]=a("label",{for:"rows"},"Rows (height):",-1)),R(a("input",{type:"number",id:"rows","onUpdate:modelValue":e[1]||(e[1]=_=>o.value=_),min:"1",max:"20"},null,512),[[k,o.value,void 0,{number:!0}]])]),a("button",{onClick:w,disabled:!i.value||!o.value,class:"set-dimensions-button"}," Set Board Size ",8,P),e[4]||(e[4]=a("hr",{class:"divider"},null,-1)),a("input",{type:"file",onChange:f,accept:"image/*",class:"file-input"},null,32),t.value?(m(),p("p",A,"Selected file: "+y(t.value),1)):z("",!0),a("button",{onClick:h,disabled:!s.value,class:"upload-button"},"Upload Image",8,L)]))}},E=C(j,[["__scopeId","data-v-9667fb8b"]]),O={class:"puzzle-game-container"},W={class:"controls"},q=["src"],K=["onClick"],M={key:0,class:"tile-number"},Q={__name:"PuzzleBoard",props:{imageUrl:{type:String,required:!0},boardCols:{type:Number,default:5},boardRows:{type:Number,default:5}},setup(g){const l=g,s=r([]),t=r(1),i=r({}),o=r(!1),d=U(()=>l.boardCols*l.boardRows),f=U(()=>({gridTemplateColumns:`repeat(${l.boardCols}, 1fr)`,gridTemplateRows:`repeat(${l.boardRows}, 1fr)`})),h=u=>new Promise((c,n)=>{const b=new Image;b.onload=()=>{t.value=b.width/b.height,c()},b.onerror=n,b.src=u}),w=()=>{i.value={aspectRatio:`${t.value}`}},v=()=>{s.value=Array.from({length:d.value},(u,c)=>({id:c,isHidden:!1}))},e=u=>{const c=s.value.find(n=>n.id===u);c&&!c.isHidden&&(c.isHidden=!0)},_=()=>{s.value.forEach(u=>{u.isHidden=!1}),o.value=!1},S=()=>{o.value=!o.value};return $(()=>[l.imageUrl,l.boardCols,l.boardRows],async([u,c,n])=>{u&&c&&n?(await h(u),w(),v()):(t.value=1,i.value={},s.value=[])},{immediate:!0}),(u,c)=>(m(),p("div",O,[a("div",W,[a("button",{onClick:_,class:"reset-button"},"Reset Tiles"),a("button",{onClick:S,class:"toggle-overlay-button"},y(o.value?"Hide Numbers":"Show Numbers"),1)]),a("div",{class:"board-wrapper",style:B(i.value)},[a("img",{src:g.imageUrl,class:"underlying-image"},null,8,q),a("div",{class:"puzzle-board",style:B(f.value)},[(m(!0),p(I,null,H(s.value,n=>(m(),p("div",{key:n.id,class:N(["puzzle-tile",{"is-hidden":n.isHidden,"show-overlay":o.value&&!n.isHidden}]),onClick:b=>e(n.id)},[o.value&&!n.isHidden?(m(),p("span",M,y(n.id+1),1)):z("",!0)],10,K))),128))],4)],4)]))}},G=C(Q,[["__scopeId","data-v-3722e41b"]]),J={class:"container"},X={__name:"puzzle",setup(g){const l=r(null),s=r(null),t=r(null),i=d=>{l.value=d},o=d=>{s.value=d.cols,t.value=d.rows};return(d,f)=>(m(),p("div",J,[x(E,{onImageUploaded:i,onBoardDimensionsSet:o}),l.value&&s.value&&t.value?(m(),T(G,{key:0,imageUrl:l.value,boardCols:s.value,boardRows:t.value},null,8,["imageUrl","boardCols","boardRows"])):z("",!0)]))}},Z=C(X,[["__scopeId","data-v-0b92db5b"]]);export{Z as default};
