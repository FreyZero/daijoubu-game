var G=Object.defineProperty;var J=(s,e,n)=>e in s?G(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var P=(s,e,n)=>J(s,typeof e!="symbol"?e+"":e,n);import{s as Z}from"./wSbNHcIL.js";import{j as F,q as w,R as X,S as p,g as Y,T as Q,U as K,B as A,H as z,V as k,v as ee,W as V,i as ae,X as te,Y as se,n as D,Z as ne,r as I,$ as re,a0 as ie,e as ce,a1 as oe,c as L,a as R,N as le,t as T,o as $}from"./cvlhs-y4.js";import{c as ue}from"./BDUOyUbU.js";const de={trailing:!0};function fe(s,e=25,n={}){if(n={...de,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let t,a,i=[],r,d;const u=(m,l)=>(r=he(s,m,l),r.finally(()=>{if(r=null,n.trailing&&d&&!a){const g=u(m,d);return d=null,g}}),r);return function(...m){return r?(n.trailing&&(d=m),r):new Promise(l=>{const g=!a&&n.leading;clearTimeout(a),a=setTimeout(()=>{a=null;const c=n.leading?t:u(this,m);for(const y of i)y(c);i=[]},e),g?(t=u(this,m),l(t)):i.push(l)})}}async function he(s,e,n){return await s.apply(e,n)}const _e=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],me=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ye="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",O=[];class ge{constructor(){P(this,"_data",new j);P(this,"_hash",new j([..._e]));P(this,"_nDataBytes",0);P(this,"_minBufferSize",0)}finalize(e){e&&this._append(e);const n=this._nDataBytes*8,t=this._data.sigBytes*8;return this._data.words[t>>>5]|=128<<24-t%32,this._data.words[(t+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(t+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,n){const t=this._hash.words;let a=t[0],i=t[1],r=t[2],d=t[3],u=t[4],m=t[5],l=t[6],g=t[7];for(let c=0;c<64;c++){if(c<16)O[c]=e[n+c]|0;else{const _=O[c-15],f=(_<<25|_>>>7)^(_<<14|_>>>18)^_>>>3,b=O[c-2],v=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;O[c]=f+O[c-7]+v+O[c-16]}const y=u&m^~u&l,o=a&i^a&r^i&r,h=(a<<30|a>>>2)^(a<<19|a>>>13)^(a<<10|a>>>22),B=(u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25),E=g+B+y+me[c]+O[c],C=h+o;g=l,l=m,m=u,u=d+E|0,d=r,r=i,i=a,a=E+C|0}t[0]=t[0]+a|0,t[1]=t[1]+i|0,t[2]=t[2]+r|0,t[3]=t[3]+d|0,t[4]=t[4]+u|0,t[5]=t[5]+m|0,t[6]=t[6]+l|0,t[7]=t[7]+g|0}_append(e){typeof e=="string"&&(e=j.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let n,t=this._data.sigBytes/64;e?t=Math.ceil(t):t=Math.max((t|0)-this._minBufferSize,0);const a=t*16,i=Math.min(a*4,this._data.sigBytes);if(a){for(let r=0;r<a;r+=16)this._doProcessBlock(this._data.words,r);n=this._data.words.splice(0,a),this._data.sigBytes-=i}return new j(n,i)}}class j{constructor(e,n){P(this,"words");P(this,"sigBytes");e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}static fromUtf8(e){const n=unescape(encodeURIComponent(e)),t=n.length,a=[];for(let i=0;i<t;i++)a[i>>>2]|=(n.charCodeAt(i)&255)<<24-i%4*8;return new j(a,t)}toBase64(){const e=[];for(let n=0;n<this.sigBytes;n+=3){const t=this.words[n>>>2]>>>24-n%4*8&255,a=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,i=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,r=t<<16|a<<8|i;for(let d=0;d<4&&n*8+d*6<this.sigBytes*8;d++)e.push(ye.charAt(r>>>6*(3-d)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const t=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=t<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];this.sigBytes+=e.sigBytes}}function De(s){return new ge().finalize(s).toBase64()}function S(s){return De(Z(s))}const ve=s=>s==="defer"||s===!1;function we(...s){var y;const e=typeof s[s.length-1]=="string"?s.pop():void 0;be(s[0],s[1])&&s.unshift(e);let[n,t,a={}]=s;const i=F(()=>w(n));if(typeof i.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof t!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const r=X();a.server??(a.server=!0),a.default??(a.default=Be),a.getCachedData??(a.getCachedData=W),a.lazy??(a.lazy=!1),a.immediate??(a.immediate=!0),a.deep??(a.deep=p.deep),a.dedupe??(a.dedupe="cancel"),a._functionName,r._asyncData[i.value];const d={cause:"initial",dedupe:a.dedupe};(y=r._asyncData[i.value])!=null&&y._init||(d.cachedData=a.getCachedData(i.value,r,{cause:"initial"}),r._asyncData[i.value]=H(r,i.value,t,a,d.cachedData));const u=r._asyncData[i.value];u._deps++;const m=()=>r._asyncData[i.value].execute(d),l=a.server!==!1&&r.payload.serverRendered;{let o=function(_){const f=r._asyncData[_];f!=null&&f._deps&&(f._deps--,f._deps===0&&(f==null||f._off()))};const h=Y();if(h&&l&&a.immediate&&!h.sp&&(h.sp=[]),h&&!h._nuxtOnBeforeMountCbs){h._nuxtOnBeforeMountCbs=[];const _=h._nuxtOnBeforeMountCbs;Q(()=>{_.forEach(f=>{f()}),_.splice(0,_.length)}),K(()=>_.splice(0,_.length))}const B=h&&(h._nuxtClientOnly||A(ue,!1));l&&r.isHydrating&&(u.error.value||u.data.value!=null)?(u.pending.value=!1,u.status.value=u.error.value?"error":"success"):h&&(!B&&r.payload.serverRendered&&r.isHydrating||a.lazy)&&a.immediate?h._nuxtOnBeforeMountCbs.push(m):a.immediate&&m();const E=ne(),C=z([i,...a.watch||[]],([_],[f])=>{var b,v;if((_||f)&&_!==f){const M=((b=r._asyncData[f])==null?void 0:b.data.value)!==p.value;f&&o(f);const N={cause:"initial",dedupe:a.dedupe};(v=r._asyncData[_])!=null&&v._init||(N.cachedData=a.getCachedData(_,r,{cause:"initial"}),r._asyncData[_]=H(r,_,t,a,N.cachedData)),r._asyncData[_]._deps++,(a.immediate||M)&&r._asyncData[_].execute(N)}else u._execute({cause:"watch",dedupe:a.dedupe})},{flush:"sync"});E&&k(()=>{C(),o(i.value)})}const g={data:U(()=>{var o;return(o=r._asyncData[i.value])==null?void 0:o.data}),pending:U(()=>{var o;return(o=r._asyncData[i.value])==null?void 0:o.pending}),status:U(()=>{var o;return(o=r._asyncData[i.value])==null?void 0:o.status}),error:U(()=>{var o;return(o=r._asyncData[i.value])==null?void 0:o.error}),refresh:(...o)=>r._asyncData[i.value].execute(...o),execute:(...o)=>r._asyncData[i.value].execute(...o),clear:()=>x(r,i.value)},c=Promise.resolve(r._asyncDataPromises[i.value]).then(()=>g);return Object.assign(c,g),c}function U(s){return F({get(){var e;return(e=s())==null?void 0:e.value},set(e){const n=s();n&&(n.value=e)}})}function be(s,e){return!(typeof s=="string"||typeof s=="object"&&s!==null||typeof s=="function"&&typeof e=="function")}function x(s,e){e in s.payload.data&&(s.payload.data[e]=void 0),e in s.payload._errors&&(s.payload._errors[e]=p.errorValue),s._asyncData[e]&&(s._asyncData[e].data.value=void 0,s._asyncData[e].error.value=p.errorValue,s._asyncData[e].pending.value=!1,s._asyncData[e].status.value="idle"),e in s._asyncDataPromises&&(s._asyncDataPromises[e]&&(s._asyncDataPromises[e].cancelled=!0),s._asyncDataPromises[e]=void 0)}function pe(s,e){const n={};for(const t of e)n[t]=s[t];return n}function H(s,e,n,t,a){var g;(g=s.payload._errors)[e]??(g[e]=p.errorValue);const i=t.getCachedData!==W,r=n,d=t.deep?ee:V,u=a!=null,m=s.hook("app:data:refresh",async c=>{(!c||c.includes(e))&&await l.execute({cause:"refresh:hook"})}),l={data:d(u?a:t.default()),pending:V(!u),error:ae(s.payload._errors,e),status:V("idle"),execute:(c={})=>{if(s._asyncDataPromises[e]){if(ve(c.dedupe??t.dedupe))return s._asyncDataPromises[e];s._asyncDataPromises[e].cancelled=!0}if(c.cause==="initial"||s.isHydrating){const o="cachedData"in c?c.cachedData:t.getCachedData(e,s,{cause:c.cause??"refresh:manual"});if(o!=null)return s.payload.data[e]=l.data.value=o,l.error.value=p.errorValue,l.status.value="success",Promise.resolve(o)}l.pending.value=!0,l.status.value="pending";const y=new Promise((o,h)=>{try{o(r(s))}catch(B){h(B)}}).then(async o=>{if(y.cancelled)return s._asyncDataPromises[e];let h=o;t.transform&&(h=await t.transform(o)),t.pick&&(h=pe(h,t.pick)),s.payload.data[e]=h,l.data.value=h,l.error.value=p.errorValue,l.status.value="success"}).catch(o=>{if(y.cancelled)return s._asyncDataPromises[e];l.error.value=se(o),l.data.value=D(t.default()),l.status.value="error"}).finally(()=>{y.cancelled||(l.pending.value=!1,delete s._asyncDataPromises[e])});return s._asyncDataPromises[e]=y,s._asyncDataPromises[e]},_execute:fe((...c)=>l.execute(...c),0,{leading:!0}),_default:t.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{var c;m(),(c=s._asyncData[e])!=null&&c._init&&(s._asyncData[e]._init=!1),i||te(()=>{var y;(y=s._asyncData[e])!=null&&y._init||(x(s,e),l.execute=()=>Promise.resolve(),l.data.value=p.value)})}};return l}const Be=()=>p.value,W=(s,e,n)=>{if(e.isHydrating)return e.payload.data[s];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[s]};function Ce(s,e,n){const[t={},a]=[{},e],i=F(()=>w(s)),r=F(()=>w(t.key)||"$f"+S([a,typeof i.value=="string"?i.value:"",...Pe(t)]));if(!t.baseURL&&typeof i.value=="string"&&i.value[0]==="/"&&i.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:d,lazy:u,default:m,transform:l,pick:g,watch:c,immediate:y,getCachedData:o,deep:h,dedupe:B,...E}=t,C=I({...re,...E,cache:typeof t.cache=="boolean"?void 0:t.cache}),_={server:d,lazy:u,default:m,transform:l,pick:g,immediate:y,getCachedData:o,deep:h,dedupe:B,watch:c===!1?[]:[...c||[],C]};if(!y){let v=function(){_.immediate=!0};z(r,v,{flush:"sync",once:!0}),z([...c||[],C],v,{flush:"sync",once:!0})}let f;return we(c===!1?r.value:r,()=>{var q;(q=f==null?void 0:f.abort)==null||q.call(f,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),f=typeof AbortController<"u"?new AbortController:{};const v=w(t.timeout);let M;return v&&(M=setTimeout(()=>f.abort(new DOMException("Request aborted due to timeout.","AbortError")),v),f.signal.onabort=()=>clearTimeout(M)),(t.$fetch||globalThis.$fetch)(i.value,{signal:f.signal,...C}).finally(()=>{clearTimeout(M)})},_)}function Pe(s){var n;const e=[((n=w(s.method))==null?void 0:n.toUpperCase())||"GET",w(s.baseURL)];for(const t of[s.params||s.query]){const a=w(t);if(!a)continue;const i={};for(const[r,d]of Object.entries(a))i[w(r)]=w(d);e.push(i)}if(s.body){const t=w(s.body);if(!t)e.push(S(t));else if(t instanceof ArrayBuffer)e.push(S(Object.fromEntries([...new Uint8Array(t).entries()].map(([a,i])=>[a,i.toString()]))));else if(t instanceof FormData){const a={};for(const i of t.entries()){const[r,d]=i;a[r]=d instanceof File?d.name:d}e.push(S(a))}else if(ie(t))e.push(S(I(t)));else try{e.push(S(t))}catch{console.warn("[useFetch] Failed to hash body",t)}}return e}const Oe={class:"page-wrapper"},Ee={class:"text-3xl font-bold mb-4"},Re={class:"text-gray-700 mb-4"},Se={class:"text-gray-500 mb-4"},je={class:"text-gray-500 mb-4"},Me={key:0},Te=["src","alt"],Ne={class:"whitespace-pre-line"},qe=ce({__name:"random",async setup(s){var i,r;let e,n;const a=(r=(i=([e,n]=oe(()=>Ce("https://api.jikan.moe/v4/random/anime","$DJLNsZ_KOW")),e=await e,n(),e).data)==null?void 0:i.value)==null?void 0:r.data;return(d,u)=>{var m,l,g,c,y,o,h;return $(),L("div",Oe,[R("h1",Ee,T((m=D(a))==null?void 0:m.title),1),R("p",Re,T((l=D(a))==null?void 0:l.synopsis),1),R("p",Se,"Score: "+T((g=D(a))==null?void 0:g.score),1),R("p",je,"Episodes: "+T((c=D(a))==null?void 0:c.episodes),1),D(a)&&D(a).images?($(),L("div",Me,[R("img",{src:D(a).images.large_image_url||((y=D(a).images.jpg)==null?void 0:y.large_image_url)||((o=D(a).images.webp)==null?void 0:o.large_image_url),alt:D(a).title},null,8,Te)])):le("",!0),R("div",Ne,T(JSON.stringify((h=D(a))==null?void 0:h.images,null,2)),1)])}}});export{qe as default};
